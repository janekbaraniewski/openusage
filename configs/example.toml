# AgentUsage configuration
# Copy this file to ~/.config/agentusage/config.toml and edit as needed.

[ui]
refresh_interval_seconds = 30
warn_threshold = 0.20    # 20% remaining → yellow warning
crit_threshold = 0.05    # 5% remaining → red critical

# Auto-detect tools and API keys on this workstation (default: true).
# When enabled, AgentUsage scans for:
#   - Cursor IDE (reads local AI tracking databases)
#   - Claude Code CLI (reads ~/.claude/stats-cache.json & account info)
#   - GitHub Copilot (gh CLI)
#   - Aider CLI
#   - API keys from env vars (OPENAI_API_KEY, ANTHROPIC_API_KEY, etc.)
# Auto-detected accounts are merged with manually configured ones below.
# Set to false to disable auto-detection and only use explicit accounts.
auto_detect = true

# ─── Tier 1: Strong programmatic signals (rate-limit headers) ───

[[accounts]]
id = "openai-personal"
provider = "openai"
api_key_env = "OPENAI_API_KEY"
probe_model = "gpt-4.1-mini"

[[accounts]]
id = "anthropic-work"
provider = "anthropic"
api_key_env = "ANTHROPIC_API_KEY"

[[accounts]]
id = "openrouter"
provider = "openrouter"
api_key_env = "OPENROUTER_API_KEY"

[[accounts]]
id = "groq"
provider = "groq"
api_key_env = "GROQ_API_KEY"
probe_model = "llama-3.3-70b-versatile"

[[accounts]]
id = "mistral"
provider = "mistral"
api_key_env = "MISTRAL_API_KEY"

[[accounts]]
id = "deepseek"
provider = "deepseek"
api_key_env = "DEEPSEEK_API_KEY"

[[accounts]]
id = "xai-grok"
provider = "xai"
api_key_env = "XAI_API_KEY"

# ─── Tier 2: API-based but limited quota visibility ───

[[accounts]]
id = "gemini-api"
provider = "gemini_api"
api_key_env = "GEMINI_API_KEY"
probe_model = "gemini-2.0-flash"

# ─── Tier 3: CLI-based / best-effort ───

[[accounts]]
id = "gemini-cli"
provider = "gemini_cli"
binary = "gemini"

[[accounts]]
id = "copilot"
provider = "copilot"
binary = "gh"

# ─── Tier 4: Local tool tracking (auto-detected if auto_detect = true) ───
# These are typically auto-detected, but you can configure them manually too.

# [[accounts]]
# id = "cursor-ide"
# provider = "cursor"
# auth = "local"
# binary = "~/.cursor/ai-tracking/ai-code-tracking.db"      # tracking DB path
# base_url = "~/Library/Application Support/Cursor/User/globalStorage/state.vscdb"  # state DB path

# [[accounts]]
# id = "claude-code"
# provider = "claude_code"
# auth = "local"
# binary = "~/.claude/stats-cache.json"   # stats cache path
# base_url = "~/.claude.json"             # account config path
